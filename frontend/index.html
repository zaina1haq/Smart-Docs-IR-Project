<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Document Retrieval System</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>ğŸ“š Smart Document Retrieval System</h1>
            <p>Search documents with text, location, time, and georeference filters</p>
        </header>

        <!-- Search Section -->
        <div class="search-section">
            <div class="search-box">
                <input 
                    type="text" 
                    id="searchInput" 
                    placeholder="Search documents... (e.g., 'economy in Palestine')"
                    autocomplete="off"
                >
                <button id="searchBtn" class="btn btn-primary">Search</button>
            </div>

            <!-- Autocomplete Dropdown -->
            <div id="autocompleteList" class="autocomplete-list"></div>

            <!-- Advanced Filters -->
            <div class="filters">
                <button id="toggleFilters" class="btn btn-secondary">âš™ï¸ Advanced Filters</button>
                
                <div id="advancedFilters" class="advanced-filters" style="display: none;">
                    <!-- Search Type -->
                    <div class="filter-group">
                        <label>Search Type:</label>
                        <select id="searchType">
                            <option value="text">Text Search</option>
                            <option value="spatiotemporal">Spatiotemporal Search</option>
                        </select>
                    </div>

                    <!-- Georeference Filter -->
                    <div class="filter-group">
                        <label>ğŸ“ Georeference (Place Name):</label>
                        <input 
                            type="text" 
                            id="georefInput" 
                            placeholder="e.g., Palestine, Nablus, Jerusalem"
                        >
                    </div>

                    <!-- Location Filters -->
                    <div class="filter-group">
                        <label>ğŸŒ Location (Latitude, Longitude):</label>
                        <div class="location-inputs">
                            <input type="number" id="latInput" placeholder="Latitude" step="0.0001">
                            <input type="number" id="lonInput" placeholder="Longitude" step="0.0001">
                            <button id="useMyLocation" class="btn btn-small">Use My Location</button>
                        </div>
                    </div>

                    <!-- Temporal Filters (for spatiotemporal search) -->
                    <div id="temporalFilters" class="filter-group" style="display: none;">
                        <label>ğŸ“… Time Range:</label>
                        <div class="date-inputs">
                            <input type="date" id="startDate" placeholder="Start Date">
                            <input type="date" id="endDate" placeholder="End Date">
                        </div>
                        <label>ğŸ“ Distance:</label>
                        <input type="text" id="distanceInput" placeholder="e.g., 500km" value="500km">
                    </div>
                </div>
            </div>
        </div>

        <!-- Map Section -->
        <div class="map-section">
            <h2>ğŸ—ºï¸ Document Locations</h2>
            <div id="map"></div>
        </div>

        <!-- Results Section -->
        <div class="results-section">
            <div class="results-header">
                <h2>Search Results</h2>
                <span id="resultCount" class="result-count"></span>
            </div>
            <div id="results" class="results-container">
                <div class="empty-state">
                    <p>ğŸ” Start searching to see results</p>
                </div>
            </div>
        </div>

        <!-- Loading Spinner -->
        <div id="loadingSpinner" class="loading-spinner" style="display: none;">
            <div class="spinner"></div>
            <p>Searching...</p>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>